<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/exampleLayout}">

<th:block layout:fragment="css">
  <style>
    .fieldError {
      color: #bd2130;
    }
  </style>
</th:block>

<div layout:fragment="content" class="container">
  <h2 class="text-center mb-4">회 원 가 입</h2>

  <form role="form" method="post" th:object="${memberDto}">
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

    <div class="form-group mb-3">
      <label for="username">아이디</label>
      <input type="text" th:field="*{username}" class="form-control" placeholder="아이디를 입력해주세요">
      <p th:if="${#fields.hasErrors('username')}" th:errors="*{username}" class="fieldError"></p>
    </div>

    <div class="form-group mb-3">
      <label for="password">비밀번호</label>
      <input type="password" th:field="*{password}" class="form-control" placeholder="비밀번호 입력">
      <p th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="fieldError"></p>
    </div>

    <div class="form-group mb-3">
      <label for="confirmPassword">비밀번호 확인</label>
      <input type="password" th:field="*{confirmPassword}" class="form-control" placeholder="비밀번호 다시 입력">
      <p th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}" class="fieldError"></p>
    </div>

    <div class="form-group mb-3">
      <label for="name">이름</label>
      <input type="text" th:field="*{name}" class="form-control" placeholder="이름을 입력해주세요">
      <p th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="fieldError"></p>
    </div>

    <div class="form-group mb-3">
      <label for="email">이메일</label>
      <input type="email" th:field="*{email}" class="form-control" placeholder="이메일을 입력해주세요">
      <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="fieldError"></p>
    </div>

    <div class="form-group mb-3">
      <label for="companyId">소속 회사</label>
      <select th:field="*{companyId}" class="form-control">
        <option value="" disabled selected>선택하세요</option>
        <option th:each="company : ${companyList}"
                th:value="${company.idx}"
                th:text="${company.name}">
        </option>
      </select>
      <p th:if="${#fields.hasErrors('companyId')}" th:errors="*{companyId}" class="fieldError"></p>
    </div>

    <div class="text-center">
      <button type="submit" class="btn btn-primary">회원가입</button>
      <button type="button" th:onclick="|location.href='@{/member/memberLogin}'|" class="btn btn-secondary">돌아가기</button>
    </div>
  </form>
</div>

</html>
